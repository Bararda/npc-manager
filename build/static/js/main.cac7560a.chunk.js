(this["webpackJsonpnpc-manager"]=this["webpackJsonpnpc-manager"]||[]).push([[0],{31:function(e,t,a){e.exports=a(57)},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},45:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){e.exports=a.p+"static/media/blue_wings.7c5967e3.png"},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),o=(a(36),a(37),a(17)),u=a(30),i=a(10),s=a(5),m=(a(38),r.a.forwardRef((function(e,t){var a=Object(n.useState)(0),c=Object(s.a)(a,2),l=c[0],o=c[1],u=function(){e.roll(l)},i=function(){return l};Object(n.useImperativeHandle)(t,(function(){return{roll:u,getStat:i}}));return Object(n.useEffect)((function(){o(e.defaultValue)}),[]),r.a.createElement("div",{className:"labeled-input "+e.className,ref:t},r.a.createElement("label",{className:"labeled-input-name",onClick:function(){u()}},e.name),r.a.createElement("input",{className:"labeled-input-box",type:e.type,onChange:function(e){var t=parseInt(e.target.value);o(t)},defaultValue:e.defaultValue}))}))),f=(a(39),a(9)),d=r.a.forwardRef((function(e,t){var a=Object(n.useState)(0),c=Object(s.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(e.defaultName||""),i=Object(s.a)(u,2),d=i[0],p=i[1],v=Object(n.useState)(""),b=Object(s.a)(v,2),g=b[0],E=b[1],h={Strength:Object(n.useRef)(null),Dexterity:Object(n.useRef)(null),Constitution:Object(n.useRef)(null),Intelligence:Object(n.useRef)(null),Wisdom:Object(n.useRef)(null),Charisma:Object(n.useRef)(null)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.floor(20*Math.random())+1;E(20===t?"crit-success":1===t?"crit-fail":""),o(t+=e)},O=function(e){e in h?h[e].current.roll():y()};Object(n.useEffect)((function(){p(e.defaultName)}),[]);var j=function(){return{str:h.Strength.current.getStat(),dex:h.Dexterity.current.getStat(),con:h.Constitution.current.getStat(),int:h.Intelligence.current.getStat(),wis:h.Wisdom.current.getStat(),cha:h.Charisma.current.getStat(),defaultName:d}};return Object(n.useImperativeHandle)(t,(function(){return{rollType:O,save:j}})),r.a.createElement("div",{className:"npc"},r.a.createElement("div",{className:"npc-wrapper"},r.a.createElement("input",{type:"text",className:"npc-name",placeholder:"Name",defaultValue:e.defaultName,onChange:function(e){p(e.target.value)}}),r.a.createElement("input",{type:"number",className:"npc-roll "+g,value:l,readOnly:!0}),r.a.createElement(f.a,{className:"npc-roll-button",variant:"outline-light",onClick:function(){y()}},"Roll")),r.a.createElement(m,{name:"str",type:"number",className:"npc-str",roll:y,ref:h.Strength,defaultValue:e.str}),r.a.createElement(m,{name:"dex",type:"number",className:"npc-dex",roll:y,ref:h.Dexterity,defaultValue:e.dex}),r.a.createElement(m,{name:"con",type:"number",className:"npc-con",roll:y,ref:h.Constitution,defaultValue:e.con}),r.a.createElement(m,{name:"int",type:"number",className:"npc-int",roll:y,ref:h.Intelligence,defaultValue:e.int}),r.a.createElement(m,{name:"wis",type:"number",className:"npc-wis",roll:y,ref:h.Wisdom,defaultValue:e.wis}),r.a.createElement(m,{name:"cha",type:"number",className:"npc-cha",roll:y,ref:h.Charisma,defaultValue:e.cha}))})),p=(a(40),r.a.forwardRef((function(e,t){return r.a.createElement("div",{className:"ability-modifier",ref:t},r.a.createElement("div",null,r.a.createElement("input",{className:"modifier-name",type:"text"}),r.a.createElement("input",{className:"ability-modifier-top",type:"number"})),r.a.createElement("div",null,r.a.createElement("input",{className:"ability-modifier-bottom",type:"number"})))})),a(41),r.a.forwardRef((function(e,t){var a=Object(n.useState)(["draggable"]),c=Object(s.a)(a,2),l=c[0],o=c[1],u=Object(n.useRef)(),m=function(e){f();var a=t.current.getElement(),n=a.getBoundingClientRect(),r=e.pageX-n.left-window.scrollX,c=e.pageY-n.top-window.scrollY,l=function(e){if(!e.altKey){var t=e.pageY-c,n=e.pageX-r;a.style.top=t+"px",a.style.left=n+"px"}},u=function(e){e.preventDefault();var t=e.changedTouches[0],n=t.pageY-c,l=t.pageX-r;a.style.top=n+"px",a.style.left=l+"px"},i=function e(t){o(["draggable"]),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e),document.removeEventListener("touchcancel",e),document.removeEventListener("touchmove",u)};document.addEventListener("mousemove",l),document.addEventListener("touchmove",u),document.addEventListener("mouseup",i),document.addEventListener("touchend",i),document.addEventListener("touchcancel",i)},f=function(){o([].concat(Object(i.a)(l),["border-enabled"]))},d=function(){var e=t.current.getElement().getBoundingClientRect();return{x:e.left,y:e.top}};return Object(n.useImperativeHandle)(t,(function(){return{save:d,getElement:function(){return u.current}}})),r.a.createElement("div",{className:l.join(" "),onMouseDown:m,onTouchStart:m,ref:u,style:{left:e.defaultX||0,top:e.defaultY||0}},e.children)}))),v=a(16);a(45);var b=a(29),g=a.n(b);var E=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],l=a[1],m=Object(n.useState)([]),b=Object(s.a)(m,2),E=b[0],h=b[1],y=Object(n.useState)(""),O=Object(s.a)(y,2),j=O[0],N=O[1],S=Object(n.useState)({}),w=Object(s.a)(S,2),C=w[0],x=w[1],R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:500,y:100},a=(arguments.length>2&&void 0!==arguments[2]||c.length,r.a.createRef()),n=r.a.createElement(d,Object(u.a)({ref:a},e)),l=r.a.createRef(),o=r.a.createElement(f.a,{variant:"outline-danger",className:"delete-button",onClick:function(){x({dragRef:l,npcRef:a})}},"X"),i=r.a.createElement(p,{ref:l,key:g.a.generate(),defaultX:t.x,defaultY:t.y},n,o);return[n,i]};return Object(n.useEffect)((function(){var e=c.filter((function(e){return e.ref!==C.dragRef})),t=E.filter((function(e){return e.ref!==C.npcRef}));l(e),h(t)}),[C]),r.a.createElement("div",{className:"npc-manager"},r.a.createElement(v.a.Control,{as:"select",onChange:function(e){var t=e.target.value;N(t)},className:"npc-rolltype-select"},r.a.createElement("option",{value:""},"None"),r.a.createElement("option",{value:"Strength"},"Strength"),r.a.createElement("option",{value:"Dexterity"},"Dexterity"),r.a.createElement("option",{value:"Constitution"},"Constitution"),r.a.createElement("option",{value:"Intelligence"},"Intelligence"),r.a.createElement("option",{value:"Wisdom"},"Wisdom"),r.a.createElement("option",{value:"Charisma"},"Charisma")),c,r.a.createElement(f.a,{onClick:function(){var e,t=Object(o.a)(E);try{for(t.s();!(e=t.n()).done;){e.value.ref.current.rollType(j)}}catch(a){t.e(a)}finally{t.f()}},variant:"outline-light",className:"roll-all"},"Roll All"),r.a.createElement(f.a,{onClick:function(){var e=R(),t=Object(s.a)(e,2),a=t[0],n=t[1];l([].concat(Object(i.a)(c),[n])),h([].concat(Object(i.a)(E),[a]))},variant:"outline-light",className:"new-npc"},"New NPC"),r.a.createElement(f.a,{onClick:function(){var e=function(){var e,t=[],a=Object(o.a)(c.entries());try{for(a.s();!(e=a.n()).done;){var n=Object(s.a)(e.value,2),r=n[0],l=n[1].ref.current.save(),u=E[r].ref.current.save();t.push({dragState:l,npcState:u})}}catch(i){a.e(i)}finally{a.f()}return t}(),t=JSON.stringify(e),a=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(a),r=document.createElement("a");r.download="npcs.json",r.href=n,r.click()},variant:"outline-success",className:"save-npcs"},"Save"),r.a.createElement(v.a.File,{label:"Load",onChange:function(e){var t,a=e.target.files,n=Object(o.a)(a);try{for(n.s();!(t=n.n()).done;){t.value.text().then((function(e){var t=JSON.parse(e),a=[],n=[],r=c.length;if(Array.isArray(t)){var u,m=Object(o.a)(t);try{for(m.s();!(u=m.n()).done;){var f=u.value,d=R(f.npcState,f.dragState,r),p=Object(s.a)(d,2),v=p[0],b=p[1];a.push(v),n.push(b),r++}}catch(g){m.e(g)}finally{m.f()}}l([].concat(Object(i.a)(c),n)),h([].concat(Object(i.a)(E),a))}))}}catch(r){n.e(r)}finally{n.f()}},accept:".json",className:"load-npcs"}))},h=(a(54),a(13)),y=a(27);a(55);function O(e){return r.a.createElement(y.a.Link,{href:""},e.children)}var j=function(){return r.a.createElement(h.a,{collapseOnSelect:!0,expand:"lg",bg:"blue",variant:"dark"},r.a.createElement(h.a.Brand,{href:"#home"},r.a.createElement("img",{src:a(56),className:"nav-logo",alt:"dnd"})),r.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(y.a,{className:"mr-auto"},r.a.createElement(O,{href:"npcManager"},"NPC Manager"))))};var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(j,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(E,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.cac7560a.chunk.js.map